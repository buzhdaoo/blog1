<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head th:replace="_fragments :: head(~{::title})">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css">
    <link rel="stylesheet" href="../static/css/me.css">
    <title>归档页</title>
</head>
<body>
<!--导航 ui组件 inverted反转颜色 attached 依附没有圆角 m-shadow-small导航栏的阴影效果-->
<!--快捷键div.ui.menu-->
<nav th:replace="_fragments :: nav(4)" class="ui inverted attached segment m-padded-tb-mini m-shadow-small">
    <!--调整位置-->
    <div class="ui container">
        <!--secondary改变样式 stackable可堆叠适应移动端-->
        <div class="ui inverted secondary stackable menu">
            <!--item加框 m-mobile-hide在@screen中生效，手机端隐藏 m-item只是方便获取 active-->
            <h2 class="ui teal header item">October</h2>
            <a href="#" class="m-item item m-mobile-hide"><i class="home icon"></i>首页</a>
            <a href="#" class="m-item item m-mobile-hide"><i class="idea icon"></i>分类</a>
            <a href="#" class="m-item item m-mobile-hide"><i class="tags icon"></i>标签</a>
            <a href="#" class="active m-item item m-mobile-hide"><i class="clone icon"></i>归档</a>
            <a href="#" class="m-item item m-mobile-hide"><i class="info icon"></i>关于我</a>
            <!--搜索框-->
            <div class="m-item right item m-mobile-hide">
                <!--icon添加图标-->
                <div class="ui icon input inverted ">
                    <input type="text" placeholder="Search...">
                    <!--link鼠标放上去有手的形状-->
                    <i class="search link icon"></i>
                </div>
            </div>
        </div>
        <!--自定义绝对布局 非手机端这个菜单按钮不显示 menu toggle 方便通过class获取这个元素-->
        <a href="#" class="ui menu toggle icon black button m-right-top m-mobile-show">
            <i class="sidebar icon"></i>
        </a>
    </div>
</nav>

<!--中间内容，container没法改大小，只能外部改-->
<div id="waypoint" class="m-padded-tb-big m-container-small m-opacity-mini">
    <div class="ui container">
        <!--头部-->
        <div class="ui top attached padded segment">
            <!--直接取两行，middle aligned垂直居中-->
            <div class="ui middle aligned two column grid">
                <div class="column">
                    <h3 class="ui teal header">归档</h3>
                </div>
                <!--靠右，自定义不换行m-inline-block-->
                <div class="right aligned column">
                    共<h2 class="ui orange header m-inline-block m-text-thin" th:text="${blogCount}">14</h2>篇博客
                </div>
            </div>
        </div>

        <th:block th:each="item : ${archiveMap}">
            <h2 class="ui center aligned header" th:text="${item.key}">2020</h2>
            <!--fluid横向填充-->
            <div class="ui fluid vertical menu">
                <!--_blank浏览器总在一个新打开、未命名的窗口中载入目标文档-->
                <a href="#" th:href="@{/blog/{id}(id=${blog.id})}" target="_blank" class="item" th:each="blog : ${item.value}">
                    <!--将图标和文字合并,有两个元素就会分开-->
                    <span>
                      <i class="mini teal circle icon"></i>&nbsp;&nbsp;<span th:text="${blog.title}">关于刻意练习的清单</span>
                      <div class="ui teal basic left pointing label m-padding-mini" th:text="${#dates.format(blog.updateTime, 'MM月dd日')}">九月03</div>
                      </span>
                    <div class="ui orange basic left pointing label m-padding-mini" th:text="${blog.flag}">原创</div>
                </a>
                <!--/*-->
                <a href="#" target="_blank" class="item">
                    <!--将图标和文字合并,有两个元素就会分开-->
                    <span>
                      <i class="mini teal circle icon"></i>&nbsp;&nbsp;关于刻意练习的清单
                      <div class="ui teal basic left pointing label m-padding-mini">九月03</div>
                  </span>
                    <div class="ui orange basic left pointing label m-padding-mini">原创</div>
                </a>
                <a href="#" target="_blank" class="item">
                    <!--将图标和文字合并,有两个元素就会分开-->
                    <span>
                      <i class="mini teal circle icon"></i>&nbsp;&nbsp;关于刻意练习的清单
                      <div class="ui teal basic left pointing label m-padding-mini">九月03</div>
                  </span>
                    <div class="ui orange basic left pointing label m-padding-mini">原创</div>
                </a>
                <a href="#" target="_blank" class="item">
                    <!--将图标和文字合并,有两个元素就会分开-->
                    <span>
                      <i class="mini teal circle icon"></i>&nbsp;&nbsp;关于刻意练习的清单
                      <div class="ui teal basic left pointing label m-padding-mini">九月03</div>
                  </span>
                    <div class="ui orange basic left pointing label m-padding-mini">原创</div>
                </a>
                <!--*/-->
            </div>
        </th:block>

        <!--/*-->
        <h2 class="ui center aligned header">2021</h2>
        <!--fluid横向填充-->
        <div class="ui fluid vertical menu">
            <!--_blank浏览器总在一个新打开、未命名的窗口中载入目标文档-->
            <a href="#" target="_blank" class="item">
                <!--将图标和文字合并,有两个元素就会分开-->
                <span>
                      <i class="mini teal circle icon"></i>&nbsp;&nbsp;关于刻意练习的清单
                      <div class="ui teal basic left pointing label m-padding-mini">九月03</div>
                  </span>
                <div class="ui orange basic left pointing label m-padding-mini">原创</div>
            </a>
            <a href="#" target="_blank" class="item">
                <!--将图标和文字合并,有两个元素就会分开-->
                <span>
                      <i class="mini teal circle icon"></i>&nbsp;&nbsp;关于刻意练习的清单
                      <div class="ui teal basic left pointing label m-padding-mini">九月03</div>
                  </span>
                <div class="ui orange basic left pointing label m-padding-mini">原创</div>
            </a>
            <a href="#" target="_blank" class="item">
                <!--将图标和文字合并,有两个元素就会分开-->
                <span>
                      <i class="mini teal circle icon"></i>&nbsp;&nbsp;关于刻意练习的清单
                      <div class="ui teal basic left pointing label m-padding-mini">九月03</div>
                  </span>
                <div class="ui orange basic left pointing label m-padding-mini">原创</div>
            </a>
            <a href="#" target="_blank" class="item">
                <!--将图标和文字合并,有两个元素就会分开-->
                <span>
                      <i class="mini teal circle icon"></i>&nbsp;&nbsp;关于刻意练习的清单
                      <div class="ui teal basic left pointing label m-padding-mini">九月03</div>
                  </span>
                <div class="ui orange basic left pointing label m-padding-mini">原创</div>
            </a>
        </div>
        <!--*/-->
    </div>
</div>

<!--竖直工具按钮组，文章目录和回到最顶部-->
<!--外层加上div控制不要紧贴右边-->
<div id="toolbar" class="m-padding m-fix m-right-bottom" style="display: none">
    <!--m-fix m-right-bottom指定绝对位置,浮在最上面-->
    <div class="ui vertical icon buttons">
        <div id="button-toTop" class="ui icon button"><i class="angle up icon"></i></div>
    </div>
</div>

<!--底部 segment片段 vertical垂直-->
<footer th:replace="_fragments :: footer" class="ui inverted vertical segment m-padded-tb-massive">
    <!--所有格子的内容居中-->
    <div class="ui center aligned container">
        <!--格子 grid是分为十六份 bootstrap是分为十二份-->
        <!--divided分割线-->
        <div class="ui inverted divided stackable grid">
            <!--配置占用多少格子-->
            <div class="three wide column">
                <!--套一个保持格式-->
                <div class="ui inverted link list">
                    <div class="item">
                        <img src="../static/images/Qr%20code.jpg" alt="" class="ui rounded image" style="width: 110px">
                    </div>
                </div>
            </div>
            <div class="three wide column">
                <h4 class="ui inverted header m-text-thin m-text-spaced">最新博客</h4>
                <div class="ui inverted link list">
                    <a href="#" class="item">用户故事(UserStory)</a>
                    <a href="#" class="item">用户故事(UserStory)</a>
                    <a href="#" class="item">用户故事(UserStory)</a>
                </div>
            </div>
            <div class="three wide column">
                <h4 class="ui inverted header m-text-thin m-text-spaced">联系我</h4>
                <div class="ui inverted link list">
                    <a href="#" class="item">QQ:179351460</a>
                    <a href="#" class="item">Email:179351460@qq.com</a>
                </div>
            </div>
            <div class="seven wide column">
                <h4 class="ui inverted header m-text-thin m-text-spaced">October</h4>
                <p class="m-text-thin m-text-spaced m-opacity-mini">When the path is long and obstructed, it will come</p>
            </div>
        </div>
        <!--分割线-->
        <div class="ui inverted section divider"></div>
        <p class="m-text-thin m-text-spaced m-opacity-tiny">CopyRight © 2021-2031 Designed by CZZ</p>
    </div>
</footer>
<!--/*/<th:block th:replace="_fragments :: script">/*/-->
<script src="https://cdn.jsdelivr.net/npm/jquery@3.2/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.js"></script>
<!--/*/</th:block>/*/-->
<script>
    // 通过jquery在移动端显示和隐藏导航栏
    $(".menu.toggle").click(function (){
        $(".m-item").toggleClass("m-mobile-hide");
    });

    //平滑滚动
    $('#button-toTop').click(function () {
        $(window).scrollTo(0,500);
    });

    //滚动侦测，检测博客内容最外层的div
    var waypoint = new Waypoint({
        element: document.getElementById('waypoint'),
        handler: function(direction) {
            console.log(direction);
            if(direction == 'down') {
                $('#toolbar').show(500);
            } else {
                $('#toolbar').hide(500);
            }
        }
    });
</script>
</body>
</html>tml>